!function(){"use strict";var a={active:"active",successCls:"success",errorCls:"error",init:function(){this.nodeCleaning(document),c.init(),b.init(),f.init(),e.init(),d.init(),g.init(),h.init()},getLang:function(){return document.documentElement.lang},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},insertAfter:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)},nodeCleaning:function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];8===c.nodeType||3===c.nodeType&&!/\S/.test(c.nodeValue)?(a.removeChild(c),b--):1===c.nodeType&&this.nodeCleaning(c)}}},b={__proto__:a,navId:"menu-primary",init:function(){this.setActiveItem()},setActiveItem:function(){for(var a=window.location.href,b=document.getElementById(this.navId),c=b.querySelectorAll("a"),d=0;d<c.length;d++)c[d].getAttribute("href")==a&&c[d].classList.add(this.active)}},c={__proto__:a,itemTrigger:"item-trigger",aFalse:"a-false",init:function(){this.itemTriggers()},itemTriggers:function(){for(var a=this,b=document.getElementsByClassName(this.itemTrigger),c=0;c<b.length;c++)b[c].addEventListener("click",function(b){var c=document.getElementById(this.dataset.trigger);c.classList.toggle(a.active),this.classList.toggle(a.active),b.preventDefault()})}},d={init:function(){this.createMap()},createMap:function(){var a=this,b=document.getElementById("map");if(b&&"object"==typeof google&&"object"==typeof google.maps){gMap=new google.maps.Map(b,{zoom:17,center:a.getCoords(b),scrollwheel:!1});var c=a.getMapPin(b,gMap),d=a.getInfoWindow(b,gMap);c&&c.addListener("click",function(){d.open(gMap,c)})}},getCoords:function(a){var b=+a.dataset.lat,c=+a.dataset.lng,d={lat:b,lng:c};return d},getMapPin:function(a,b){var c=this,d=a.dataset.pin;if(d){var e=new google.maps.Marker({position:c.getCoords(a),map:b,icon:d});return e}},getInfoWindow:function(a,b){var c=this,d=a.dataset.info;if(d){var e=new google.maps.InfoWindow({content:d,position:c.getCoords(a)});return e}}},e={__proto__:a,required:"required",validError:"validation-error",validMessage:"validation-message",reqFieldError:"Обязательное поле",nameError:"Имя должно быть 2-32 символа в длину и содержать А-я",phoneError:"Phone must be 6-12 chars long and be numeric",emailError:"Пожалуйста, введите корректный e-mail адрес",loadingClass:"loading",ajaxMessageCls:"ajax-respond",ajaxSuccess:"Спасибо, ваше сообщение отправлено",ajaxError:"Ой, что-то пошло не так!",init:function(){this.formSubmit()},formSubmit:function(){for(var a=document.getElementsByTagName("form"),b=this,c=0;c<a.length;c++)a[c].addEventListener("submit",function(a){a.preventDefault(),b.validate(this)&&b.sendRequest(this)})},validate:function(a){for(var b,c=a.getElementsByClassName(this.required),d=a.getElementsByClassName(this.validError),e=0;e<c.length;e++)b=c[e],this.checkEmptyValue(b),this.checkName(b),this.checkEmail(b);if(0==d.length)return!0},checkEmptyValue:function(a){""==a.value?this.addEmptyValueError(a):this.removeEmptyValueError(a)},checkName:function(a){var b="name",c=/[А-я]{2,32}/,d=this.nameError;this.validateField(a,b,c,d)},checkPhone:function(a){var b="phone",c=/^\d{6,12}$/,d=this.phoneError;this.validateField(a,b,c,d)},checkEmail:function(a){var b="email",c=/[^\s@]+@[^\s@]+\.[^\s@]+/,d=this.emailError;this.validateField(a,b,c,d)},validateField:function(a,b,c,d){if(a.getAttribute("name")==b){var e=a.value,f=a.nextElementSibling;e.match(c)?f&&(a.classList.remove(this.validError),this.removeErrorContainer(a,d)):f||(a.classList.add(this.validError),this.addErrorContainer(a,d))}},createMessageContainer:function(){var a=document.createElement("label");return a.className="message",a},addErrorContainer:function(a,b){var c=a.getAttribute("ID"),d=this.createMessageContainer();d.innerHTML=b,d.setAttribute("for",c),d.classList.add(this.validMessage),this.insertAfter(d,a)},removeErrorContainer:function(a){var b=a.parentElement;b.removeChild(a.nextSibling),a.classList.remove(this.validError)},addEmptyValueError:function(a){a.setAttribute("placeholder",this.reqFieldError),a.classList.add(this.validError)},removeEmptyValueError:function(a){a.removeAttribute("placeholder"),a.classList.remove(this.validError)},ajaxMessage:function(){var a=this.createMessageContainer();return a.classList.add(this.ajaxMessageCls),a},showAjaxRespond:function(a,b){var c=this.ajaxMessage();c.innerHTML=b,a.appendChild(c),setTimeout(function(){a.removeChild(c)},5e4)},prepareData:function(a){for(var b,c=a.elements,d=[],e=0;e<c.length;e++)c[e].getAttribute("name")&&(b=c[e].getAttribute("name")+"="+c[e].value,d.push(b));return d=d.join("&")},sendRequest:function(a){var b=this;a.classList.add(this.loadingClass);var c=new XMLHttpRequest,d=this.prepareData(a);c.onreadystatechange=function(){c.readyState==XMLHttpRequest.DONE&&(a.classList.remove(b.loadingClass),200==c.status?(b.showAjaxRespond(a,b.ajaxSuccess),a.reset()):messageText=b.showAjaxRespond(a,b.ajaxError))},c.open(a.getAttribute("method"),a.getAttribute("action")),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(d)}},f={__proto__:a,slider:"slider",slides:".slides",navDots:"slider-dots",navDot:"dot",data:"data-link",init:function(){this.intitSliders()},intitSliders:function(){for(var a=document.getElementsByClassName(this.slider),b=0;b<a.length;b++){var c=a[b],d=c.children[0],e=d.children,f=e.length;f>1&&(this.highlightFirstItem(d),this.setSlidePosition(e),this.createDots(f,c),this.dotClick())}},highlightFirstItem:function(a){a.firstChild.classList.add(this.active)},createDots:function(a,b){var c=document.createElement("ul");c.className=this.navDots;for(var d=0;d<a;d++){var e=document.createElement("li");e.className=this.navDot,e.setAttribute(this.data,[d]),c.appendChild(e)}b.appendChild(c),this.highlightFirstItem(c)},dotClick:function(){for(var a=document.getElementsByClassName(this.navDot),b=this,c=0;c<a.length;c++)a[c].addEventListener("click",function(){b.hasClass(this,b.active)||(b.switchSlide(this),b.changeDot(this),this.classList.add(b.active))})},changeDot:function(a){var b=a.parentElement.children;this.removeActive(b)},removeActive:function(a){for(var b=0;b<a.length;b++)a[b].classList.remove(this.active)},setSlidePosition:function(a){for(var b=0;b<a.length;b++)a[b].setAttribute(this.data,[b])},switchSlide:function(a){var b=a.parentElement.parentElement.children[0].children,c=a.dataset.link;this.hideSlides(b);for(var d=0;d<b.length;d++)b[d].dataset.link==c&&(b[d].classList.add(this.active),h.checkVisibility(b[d]))},hideSlides:function(a){this.removeActive(a)}},g={__proto__:a,scrollClass:"scroll-top",scrollSpeed:400,visible:!1,init:function(){this.setActive(),this.clickEvent()},getBtn:function(){var a=document.getElementById(this.scrollClass);return a},getHeight:function(){var a=1.5*window.innerHeight;return a},setActive:function(){this.checkOffset(this.getHeight()),this.checkOnScroll(this.getHeight())},checkOffset:function(a){var b=this,c=window.pageYOffset||document.documentElement.scrollTop;0==b.visible&&c>a?(b.getBtn().classList.add(b.active),b.visible=!0):1==b.visible&&c<a&&(b.getBtn().classList.remove(b.active),b.visible=!1)},checkOnScroll:function(a){var b=this;window.addEventListener("scroll",function(){b.checkOffset(a)})},clickEvent:function(){var a=this;this.getBtn().addEventListener("click",function(b){b.preventDefault(),a.scrollPage()})},scrollPage:function(){var a=this.scrollSpeed,b=-window.scrollY/(a/15),c=setInterval(function(){0!=window.scrollY?window.scrollBy(0,b):clearInterval(c)},15)}},h={__proto__:a,visibleStatus:"data-visible",isVisible:"yes",replaceStatus:"data-replaced",isReplaced:"yes",init:function(){for(var a,b=document.getElementsByClassName("lazy"),c=this,d=0;d<b.length;d++)a=b[d],c.inViewport(a),c.checkVisibility(a)},inViewport:function(a){this.setVisibleFlag(a)},setVisibleFlag:function(a){a.setAttribute(this.visibleStatus,this.isVisible)},setReplaceFlag:function(a){a.setAttribute(this.replaceStatus,this.isReplaced)},replaceSrc:function(a){this.setReplaceFlag(a),a.hasAttribute("src")?a.setAttribute("src",a.dataset.lazy):a.style.backgroundImage="url("+a.dataset.lazy+")"},checkVisibility:function(a){a.dataset.replaced!=this.isReplaced&&a.dataset.visible==this.isVisible&&this.hasClass(a,this.active)&&this.replaceSrc(a)}};window.onload=function(){a.init()}}();